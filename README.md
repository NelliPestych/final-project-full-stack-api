# Foodies Backend API

Backend API –¥–ª—è –∫—É–ª—ñ–Ω–∞—Ä–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É Foodies, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –Ω–∞ Node.js –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º PostgreSQL.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Node.js** - —Å–µ—Ä–≤–µ—Ä–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **Express.js** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **JWT** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- **bcryptjs** - —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- **Swagger** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API
- **Multer** - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤

## üìã –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (`/api/auth`)
- ‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ –í—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ –í–∏—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (`/api/users`)
- ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é —ñ–Ω—à–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∫–∏
- ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø—ñ–¥–ø–∏—Å–Ω–∏–∫—ñ–≤
- ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø—ñ–¥–ø–∏—Å–æ–∫
- ‚úÖ –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ –í—ñ–¥–ø–∏—Å–∫–∞ –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### –ü—É–±–ª—ñ—á–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ä–µ—Ü–µ–ø—Ç—ñ–≤ (`/api/categories`)
- ‚úÖ –†–µ–≥—ñ–æ–Ω–∏ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è (`/api/areas`)
- ‚úÖ –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ (`/api/ingredients`)
- ‚úÖ –í—ñ–¥–≥—É–∫–∏ (`/api/testimonials`)

### –†–µ—Ü–µ–ø—Ç–∏ (`/api/recipes`)
- ‚úÖ –ü–æ—à—É–∫ —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏
- ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π —Ä–µ—Ü–µ–ø—Ç—É
- ‚úÖ –ü–æ–ø—É–ª—è—Ä–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Ü–µ–ø—Ç—É
- ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è –≤–ª–∞—Å–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–µ—Ü–µ–ø—Ç—É
- ‚úÖ –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ —É–ª—é–±–ª–µ–Ω–∏—Ö
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑ —É–ª—é–±–ª–µ–Ω–∏—Ö
- ‚úÖ –û—Ç—Ä–∏–º–∞–Ω–Ω—è —É–ª—é–±–ª–µ–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤

## üõ† –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
- Node.js (–≤–µ—Ä—Å—ñ—è 14 –∞–±–æ –≤–∏—â–µ)
- PostgreSQL (–≤–µ—Ä—Å—ñ—è 12 –∞–±–æ –≤–∏—â–µ)

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
git clone <repository-url>
cd final-project-full-stack-api
```

### 2. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
npm install
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
–°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª `env.example` –≤ `.env` —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ:

```bash
cp env.example .env
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env` —Ñ–∞–π–ª:
```env
# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=foodies_db
DB_USER=your_username
DB_PASSWORD=your_password

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRES_IN=7d

# Server Configuration
PORT=3000
NODE_ENV=development

# File Upload Configuration
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=5242880
```

### 4. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö PostgreSQL
createdb foodies_db
```

### 5. –ú—ñ–≥—Ä–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—ñ
npm run migrate

# –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
npm run seed
```

### 6. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏
npm run dev

# –†–µ–∂–∏–º –ø—Ä–æ–¥–∞–∫—à–Ω
npm start
```

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞, Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –∞–¥—Ä–µ—Å–æ—é:
- **Development**: http://localhost:3000/api-docs
- **Production**: https://your-api-domain.com/api-docs

## üîß –î–æ—Å—Ç—É–ø–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏

- `npm start` - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º—ñ
- `npm run dev` - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ nodemon
- `npm run migrate` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- `npm run seed` - –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏

## üóÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –û—Å–Ω–æ–≤–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ:
- `users` - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
- `recipes` - —Ä–µ—Ü–µ–ø—Ç–∏
- `categories` - –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ä–µ—Ü–µ–ø—Ç—ñ–≤
- `areas` - —Ä–µ–≥—ñ–æ–Ω–∏ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è
- `ingredients` - —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏
- `testimonials` - –≤—ñ–¥–≥—É–∫–∏
- `recipe_ingredients` - –∑–≤'—è–∑–æ–∫ —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∞–º–∏
- `user_follows` - –ø—ñ–¥–ø–∏—Å–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `user_favorite_recipes` - —É–ª—é–±–ª–µ–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

API –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î JWT —Ç–æ–∫–µ–Ω–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó. –î–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ –¥–æ–¥–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫:

```
Authorization: Bearer <your-jwt-token>
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ database.js      # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ swagger.js       # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Swagger
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ authController.js
‚îÇ   ‚îú‚îÄ‚îÄ userController.js
‚îÇ   ‚îú‚îÄ‚îÄ recipeController.js
‚îÇ   ‚îú‚îÄ‚îÄ categoryController.js
‚îÇ   ‚îú‚îÄ‚îÄ areaController.js
‚îÇ   ‚îú‚îÄ‚îÄ ingredientController.js
‚îÇ   ‚îî‚îÄ‚îÄ testimonialController.js
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js          # Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ errorHandler.js  # –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ validation.js    # –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js
‚îÇ   ‚îú‚îÄ‚îÄ users.js
‚îÇ   ‚îú‚îÄ‚îÄ recipes.js
‚îÇ   ‚îú‚îÄ‚îÄ categories.js
‚îÇ   ‚îú‚îÄ‚îÄ areas.js
‚îÇ   ‚îú‚îÄ‚îÄ ingredients.js
‚îÇ   ‚îî‚îÄ‚îÄ testimonials.js
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ migrate.js       # –ú—ñ–≥—Ä–∞—Ü—ñ—è –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ seed.js          # –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ë–î
‚îú‚îÄ‚îÄ uploads/             # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ foodies/             # JSON –¥–∞–Ω—ñ –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É
‚îú‚îÄ‚îÄ server.js            # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îî‚îÄ‚îÄ package.json
```

## üåê –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- `POST /api/auth/register` - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
- `POST /api/auth/login` - –í—Ö—ñ–¥
- `POST /api/auth/logout` - –í–∏—Ö—ñ–¥

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
- `GET /api/users/profile` - –ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å
- `GET /api/users/:id` - –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `PUT /api/users/avatar` - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∫–∏
- `GET /api/users/followers` - –ú–æ—ó –ø—ñ–¥–ø–∏—Å–Ω–∏–∫–∏
- `GET /api/users/following` - –ú–æ—ó –ø—ñ–¥–ø–∏—Å–∫–∏
- `POST /api/users/follow/:id` - –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è
- `DELETE /api/users/follow/:id` - –í—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è

### –†–µ—Ü–µ–ø—Ç–∏
- `GET /api/recipes/search` - –ü–æ—à—É–∫ —Ä–µ—Ü–µ–ø—Ç—ñ–≤
- `GET /api/recipes/popular` - –ü–æ–ø—É–ª—è—Ä–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏
- `GET /api/recipes/:id` - –î–µ—Ç–∞–ª—ñ —Ä–µ—Ü–µ–ø—Ç—É
- `POST /api/recipes` - –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–µ—Ü–µ–ø—Ç
- `GET /api/recipes/my` - –ú–æ—ó —Ä–µ—Ü–µ–ø—Ç–∏
- `DELETE /api/recipes/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ —Ä–µ—Ü–µ–ø—Ç
- `POST /api/recipes/:id/favorite` - –î–æ–¥–∞—Ç–∏ –¥–æ —É–ª—é–±–ª–µ–Ω–∏—Ö
- `DELETE /api/recipes/:id/favorite` - –í–∏–¥–∞–ª–∏—Ç–∏ –∑ —É–ª—é–±–ª–µ–Ω–∏—Ö
- `GET /api/recipes/favorites` - –£–ª—é–±–ª–µ–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏

### –ü—É–±–ª—ñ—á–Ω—ñ
- `GET /api/categories` - –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó
- `GET /api/areas` - –†–µ–≥—ñ–æ–Ω–∏
- `GET /api/ingredients` - –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏
- `GET /api/testimonials` - –í—ñ–¥–≥—É–∫–∏

## üö¶ –°—Ç–∞—Ç—É—Å –∫–æ–¥–∏

- `200` - –£—Å–ø—ñ—à–Ω–∏–π –∑–∞–ø–∏—Ç
- `201` - –†–µ—Å—É—Ä—Å —Å—Ç–≤–æ—Ä–µ–Ω–∏–π
- `400` - –ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π
- `403` - –î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏–π
- `404` - –†–µ—Å—É—Ä—Å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π
- `500` - –ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üìù –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```bash
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–Ü–≤–∞–Ω –Ü–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com",
    "password": "password123"
  }'
```

### –ü–æ—à—É–∫ —Ä–µ—Ü–µ–ø—Ç—ñ–≤
```bash
curl "http://localhost:3000/api/recipes/search?category=Soup&page=1&limit=10"
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Ü–µ–ø—Ç—É (–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é)
```bash
curl -X POST http://localhost:3000/api/recipes \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <your-token>" \
  -d '{
    "title": "–ë–æ—Ä—â —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π",
    "description": "–¢—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –±–æ—Ä—â",
    "instructions": "1. –ó–≤–∞—Ä–∏—Ç–∏ –º'—è—Å–æ...",
    "time": 120,
    "category": "Soup",
    "area": "Ukrainian",
    "ingredients": [
      {"id": 1, "measure": "500g"},
      {"id": 2, "measure": "2 —à—Ç"}
    ]
  }'
```

## ü§ù –í–Ω–µ—Å–æ–∫ —É —Ä–æ–∑—Ä–æ–±–∫—É

1. –§–æ—Ä–∫–Ω—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –≥—ñ–ª–∫—É –¥–ª—è –Ω–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó (`git checkout -b feature/amazing-feature`)
3. –ó—Ä–æ–±—ñ—Ç—å –∫–æ–º—ñ—Ç –∑–º—ñ–Ω (`git commit -m 'Add amazing feature'`)
4. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ –∑–º—ñ–Ω–∏ (`git push origin feature/amazing-feature`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Pull Request

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–∏–π –ø—ñ–¥ MIT License.