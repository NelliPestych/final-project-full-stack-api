# üöÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑–∞–ø—É—Å–∫—É Foodies Backend API

## –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
- **Node.js** –≤–µ—Ä—Å—ñ—ó 14 –∞–±–æ –≤–∏—â–µ
- **PostgreSQL** –≤–µ—Ä—Å—ñ—ó 12 –∞–±–æ –≤–∏—â–µ
- **npm** –∞–±–æ **yarn**

## 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone <repository-url>
cd final-project-full-stack-api

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install
```

## 2. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è PostgreSQL

### macOS (–∑ Homebrew):
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ PostgreSQL
brew install postgresql@14

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ PostgreSQL
brew services start postgresql@14

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ postgres
/opt/homebrew/opt/postgresql@14/bin/createuser -s postgres
```

### Ubuntu/Debian:
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ PostgreSQL
sudo apt update
sudo apt install postgresql postgresql-contrib

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ PostgreSQL
sudo systemctl start postgresql
sudo systemctl enable postgresql

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ postgres
sudo -u postgres createuser --superuser postgres
```

### Windows:
1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ PostgreSQL –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ —Å–∞–π—Ç—É
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
3. –ó–∞–ø–∞–º'—è—Ç–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ postgres

## 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö
createdb foodies_db

# –ê–±–æ —á–µ—Ä–µ–∑ psql
psql -c "CREATE DATABASE foodies_db;"
```

## 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
# –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ñ–∞–π–ª –∑ –ø—Ä–∏–∫–ª–∞–¥–æ–º –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
cp env.example .env
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `.env` –∑ –≤–∞—à–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏:

```env
# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=foodies_db
DB_USER=postgres
DB_PASSWORD=your_postgres_password

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here_change_in_production
JWT_EXPIRES_IN=7d

# Server Configuration
PORT=3000
NODE_ENV=development

# File Upload Configuration
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=5242880
```

## 5. –ú—ñ–≥—Ä–∞—Ü—ñ—è —Ç–∞ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—ñ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
npm run migrate

# –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
npm run seed
```

## 6. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ (–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º)
npm run dev

# –†–µ–∂–∏–º –ø—Ä–æ–¥–∞–∫—à–Ω
npm start
```

## 7. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:

- **–°–µ—Ä–≤–µ—Ä**: http://localhost:3000
- **Health Check**: http://localhost:3000/health
- **API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: http://localhost:3000/api-docs

### –¢–µ—Å—Ç–æ–≤–∏–π –∑–∞–ø–∏—Ç:
```bash
curl http://localhost:3000/health
```

–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:
```json
{
  "status": "OK",
  "timestamp": "2025-09-22T19:25:07.817Z",
  "uptime": 247.149629792
}
```

## 8. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏
npm run test:api
```

## üîß –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞ "role postgres does not exist"
```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ postgres
createuser -s postgres
```

### –ü–æ–º–∏–ª–∫–∞ "database foodies_db does not exist"
```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö
createdb foodies_db
```

### –ü–æ–º–∏–ª–∫–∞ "port 3000 already in use"
```bash
# –ó—É–ø–∏–Ω–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å –Ω–∞ –ø–æ—Ä—Ç—É 3000
lsof -ti:3000 | xargs kill -9

# –ê–±–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ä—Ç –≤ .env —Ñ–∞–π–ª—ñ
PORT=3001
```

### –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –∑–∞–ø—É—â–µ–Ω–∏–π PostgreSQL
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `.env` —Ñ–∞–π–ª—ñ
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö `foodies_db` —ñ—Å–Ω—É—î

## üìö –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
npm run dev

# –ó—É–ø–∏–Ω–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
Ctrl + C

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö
npm run migrate drop
npm run migrate
npm run seed

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å PostgreSQL (macOS)
brew services list | grep postgresql

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å PostgreSQL (Linux)
sudo systemctl status postgresql
```

## üåê –î–æ—Å—Ç—É–ø–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –ü—É–±–ª—ñ—á–Ω—ñ:
- `GET /api/categories` - –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ä–µ—Ü–µ–ø—Ç—ñ–≤
- `GET /api/areas` - —Ä–µ–≥—ñ–æ–Ω–∏ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è
- `GET /api/ingredients` - —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏
- `GET /api/testimonials` - –≤—ñ–¥–≥—É–∫–∏
- `GET /api/recipes/search` - –ø–æ—à—É–∫ —Ä–µ—Ü–µ–ø—Ç—ñ–≤
- `GET /api/recipes/popular` - –ø–æ–ø—É–ª—è—Ä–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏
- `GET /api/recipes/:id` - –¥–µ—Ç–∞–ª—ñ —Ä–µ—Ü–µ–ø—Ç—É

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è:
- `POST /api/auth/register` - —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
- `POST /api/auth/login` - –ª–æ–≥—ñ–Ω
- `POST /api/auth/logout` - –ª–æ–≥–∞—É—Ç

### –ü—Ä–∏–≤–∞—Ç–Ω—ñ (–ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Ç–æ–∫–µ–Ω):
- `GET /api/users/profile` - –º—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å
- `GET /api/users/:id` - –ø—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `PUT /api/users/avatar` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∫–∏
- `GET /api/users/followers` - –º–æ—ó –ø—ñ–¥–ø–∏—Å–Ω–∏–∫–∏
- `GET /api/users/following` - –º–æ—ó –ø—ñ–¥–ø–∏—Å–∫–∏
- `POST /api/users/follow/:id` - –ø—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è
- `DELETE /api/users/follow/:id` - –≤—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è
- `POST /api/recipes` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–µ—Ü–µ–ø—Ç
- `GET /api/recipes/my` - –º–æ—ó —Ä–µ—Ü–µ–ø—Ç–∏
- `DELETE /api/recipes/:id` - –≤–∏–¥–∞–ª–∏—Ç–∏ —Ä–µ—Ü–µ–ø—Ç
- `POST /api/recipes/:id/favorite` - –¥–æ–¥–∞—Ç–∏ –¥–æ —É–ª—é–±–ª–µ–Ω–∏—Ö
- `DELETE /api/recipes/:id/favorite` - –≤–∏–¥–∞–ª–∏—Ç–∏ –∑ —É–ª—é–±–ª–µ–Ω–∏—Ö
- `GET /api/recipes/favorites` - —É–ª—é–±–ª–µ–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–ü–æ–≤–Ω–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –∞–¥—Ä–µ—Å–æ—é:
**http://localhost:3000/api-docs**

–¢—É—Ç –≤–∏ –º–æ–∂–µ—Ç–µ:
- –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏
- –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ API –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
- –ü–æ–±–∞—á–∏—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ö–µ–º—É API

## üÜò –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏: `npm run test:api`

---

**–£—Å–ø—ñ—à–Ω–æ–≥–æ —Ä–æ–∑—Ä–æ–±–∫–∏! üéâ**
